{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport { Route } from 'react-router-dom';\nimport * as BooksAPI from \"./BooksAPI\";\nimport ListBooks from \"./ListBooks\";\nimport SearchBooks from \"./SearchBooks\";\n\nvar HomeApp = /*#__PURE__*/function (_React$Component) {\n  _inherits(HomeApp, _React$Component);\n\n  function HomeApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HomeApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HomeApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: [],\n      shelves: [{\n        key: 'currentlyReading',\n        name: 'Currently Reading'\n      }, {\n        key: 'wantToRead',\n        name: 'Want to Read'\n      }, {\n        key: 'read',\n        name: 'Read'\n      }]\n    };\n\n    _this.changeState = function (book, shelf) {\n      BooksAPI.update(book, shelf).then(function (books) {\n        if (book.shelf === 'none' && shelf !== 'none') _this.setState(function (state) {\n          return {\n            books: state.books.concat(book)\n          };\n        });\n\n        var updatedBookState = _this.state.books.map(function (c) {\n          if (c.id === book.id) {\n            c.shelf = shelf;\n          }\n\n          return c;\n        });\n\n        _this.setState({\n          books: updatedBookState\n        });\n\n        if (shelf === 'none') _this.setState(function (state) {\n          return {\n            books: state.books.filter(function (deleteBook) {\n              return deleteBook.id !== book.id;\n            })\n          };\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(HomeApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BooksAPI.getAll().then(function (books) {\n        return _this2.setState({\n          books: books\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(BrowserRouter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(SearchBooks, {\n            books: _this3.state.books,\n            onChangeShelf: _this3.changeState,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 11\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(ListBooks, {\n            books: _this3.state.books,\n            shelves: _this3.state.shelves,\n            onChangeShelf: _this3.changeState,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 11\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n\n  return HomeApp;\n}(React.Component);\n\nexport default HomeApp;","map":{"version":3,"names":["React","Route","BooksAPI","ListBooks","SearchBooks","HomeApp","state","books","shelves","key","name","changeState","book","shelf","update","then","setState","concat","updatedBookState","map","c","id","filter","deleteBook","getAll","Component"],"sources":["C:/Users/Abdulrahman/Desktop/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import React from 'react'\r\nimport './App.css'\r\nimport { Route } from 'react-router-dom'\r\nimport * as BooksAPI from \"./BooksAPI\"\r\nimport ListBooks from \"./ListBooks\"\r\nimport SearchBooks from \"./SearchBooks\"\r\n\r\nclass HomeApp extends React.Component {\r\n  state = {\r\n    books : [],\r\n    shelves : [\r\n      {key:'currentlyReading' , name: 'Currently Reading'},\r\n      {key:'wantToRead' , name: 'Want to Read'},\r\n      {key:'read' , name: 'Read'},\r\n    ]\r\n  }\r\n\r\n  componentDidMount() {\r\n    BooksAPI.getAll().then((books) =>   this.setState({ books }) );\r\n  }\r\n\r\n  changeState = (book, shelf) => {\r\n    BooksAPI.update(book, shelf).then(books => {\r\n      if(book.shelf === 'none' && shelf !== 'none')\r\n        this.setState(state => {  return {books:  state.books.concat(book)}})\r\n      \r\n      const updatedBookState = this.state.books.map(c => {\r\n        if (c.id === book.id) { c.shelf = shelf }\r\n        return c;\r\n      });\r\n\r\n      this.setState({  books: updatedBookState,});\r\n              if(shelf === 'none')\r\n          this.setState(state=>{\r\n            return {books: state.books.filter(deleteBook => deleteBook.id !== book.id)}\r\n          })\r\n        \r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"app\">\r\n     <BrowserRouter>\r\n<Route path='/search'\r\n        render={() => (\r\n          <SearchBooks books={this.state.books}  \r\n          onChangeShelf={this.changeState} />\r\n        )}\r\n        />\r\n\r\n        <Route exact path='/'\r\n        render={() => (\r\n          <ListBooks books={this.state.books} shelves={this.state.shelves}\r\n           onChangeShelf={this.changeState} />\r\n        )}\r\n        />\r\n        \t</BrowserRouter>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default HomeApp\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}