{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport * as BooksAPI from \"./BooksAPI\";\nimport ListBooks from \"./ListBooks\";\nimport SearchBooks from \"./SearchBooks\";\n\nvar HomeApp = /*#__PURE__*/function (_React$Component) {\n  _inherits(HomeApp, _React$Component);\n\n  function HomeApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HomeApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HomeApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: []\n    };\n    _this.shelves = [{\n      key: 'currentlyReading',\n      name: 'Currently Reading'\n    }, {\n      key: 'wantToRead',\n      name: 'Want to Read'\n    }, {\n      key: 'read',\n      name: 'Read'\n    }];\n\n    _this.ChangeShelf = function (book, shelf) {\n      BooksAPI.update(book, shelf).then(function (books) {\n        // if the book is new then add it to the state, and it's not changed to none\n        if (book.shelf === 'none' && shelf !== 'none') {\n          _this.setState(function (state) {\n            var newBooks = state.books.concat(book);\n            return {\n              books: newBooks\n            };\n          });\n        }\n\n        var updatedBooks = _this.state.books.map(function (c) {\n          // if it's already in the state, then change it's shelf\n          if (c.id === book.id) {\n            c.shelf = shelf;\n          }\n\n          return c;\n        });\n\n        _this.setState({\n          books: updatedBooks\n        }); // if 'none' shelve is chosen, then remove that book from the state\n\n\n        if (shelf === 'none') {\n          _this.setState(function (state) {\n            var newBooks = state.books.filter(function (deleteBook) {\n              return deleteBook.id !== book.id;\n            });\n            return {\n              books: newBooks\n            };\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(HomeApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BooksAPI.getAll().then(function (books) {\n        _this2.setState({\n          books: books\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(BrowserRouter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(SearchBooks, {\n            books: _this3.state.books,\n            onChangeShelf: _this3.changeState,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 11\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(ListBooks, {\n            books: _this3.state.books,\n            shelves: _this3.state.shelves,\n            onChangeShelf: _this3.changeState,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 11\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n\n  return HomeApp;\n}(React.Component);\n\nexport default HomeApp;","map":{"version":3,"names":["React","Route","BrowserRouter","BooksAPI","ListBooks","SearchBooks","HomeApp","state","books","shelves","key","name","ChangeShelf","book","shelf","update","then","setState","newBooks","concat","updatedBooks","map","c","id","filter","deleteBook","getAll","changeState","Component"],"sources":["C:/Users/Abdulrahman/Desktop/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import React from 'react'\r\nimport './App.css'\r\nimport { Route,BrowserRouter } from 'react-router-dom'\r\nimport * as BooksAPI from \"./BooksAPI\"\r\nimport ListBooks from \"./ListBooks\"\r\nimport SearchBooks from \"./SearchBooks\"\r\n\r\nclass HomeApp extends React.Component {\r\n  state = {\r\n    books : []\r\n  }\r\n\r\n  componentDidMount() {\r\n    BooksAPI.getAll().then((books) => {\r\n      this.setState({ books })\r\n    })\r\n  }\r\n\r\n  shelves = [\r\n    {key:'currentlyReading' , name: 'Currently Reading'},\r\n    {key:'wantToRead' , name: 'Want to Read'},\r\n    {key:'read' , name: 'Read'},\r\n  ]\r\n\r\n  ChangeShelf = (book, shelf) => {\r\n    BooksAPI.update(book, shelf).then(books => {\r\n      // if the book is new then add it to the state, and it's not changed to none\r\n      if(book.shelf === 'none' && shelf !== 'none'){\r\n        this.setState(state => {\r\n          const newBooks = state.books.concat(book);\r\n          return {books: newBooks}\r\n        })\r\n      }\r\n\r\n      const updatedBooks = this.state.books.map(c => {\r\n        // if it's already in the state, then change it's shelf\r\n        if (c.id === book.id) {\r\n          c.shelf = shelf\r\n        }\r\n        return c;\r\n      });\r\n\r\n      this.setState({\r\n        books: updatedBooks,\r\n      });\r\n      \r\n        // if 'none' shelve is chosen, then remove that book from the state\r\n        if(shelf === 'none'){\r\n          this.setState(state=>{\r\n            const newBooks = state.books.filter(deleteBook => deleteBook.id !== book.id);\r\n            return {books: newBooks}\r\n          })\r\n        }\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <BrowserRouter>      \r\n      \r\n        <Route path='/search'\r\n        render={() => (\r\n          <SearchBooks books={this.state.books} \r\n             onChangeShelf={this.changeState} />\r\n        )} />\r\n\r\n        <Route exact path='/'\r\n        render={() => (\r\n          <ListBooks books={this.state.books} shelves={this.state.shelves}\r\n            onChangeShelf={this.changeState} />\r\n        )} />\r\n            </BrowserRouter>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default HomeApp\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}