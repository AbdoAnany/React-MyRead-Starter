{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdulrahman\\\\Desktop\\\\nd0191-c1-myreads\\\\starter\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport { Route } from 'react-router-dom';\nimport * as BooksAPI from \"./BooksAPI\";\nimport ListBooks from \"./ListBooks\";\nimport SearchBooks from \"./SearchBooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HomeApp extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      books: [],\n      shelves: [{\n        key: 'currentlyReading',\n        name: 'Currently Reading'\n      }, {\n        key: 'wantToRead',\n        name: 'Want to Read'\n      }, {\n        key: 'read',\n        name: 'Read'\n      }]\n    };\n\n    this.changeState = (book, shelf) => {\n      BooksAPI.update(book, shelf).then(books => {\n        if (book.shelf === 'none' && shelf !== 'none') this.setState(state => {\n          return {\n            books: state.books.concat(book)\n          };\n        });\n        const updatedBookState = this.state.books.map(c => {\n          if (c.id === book.id) {\n            c.shelf = shelf;\n          }\n\n          return c;\n        });\n        this.setState({\n          books: updatedBookState\n        });\n        if (shelf === 'none') this.setState(state => {\n          return {\n            books: state.books.filter(deleteBook => deleteBook.id !== book.id)\n          };\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    BooksAPI.getAll().then(books => this.setState({\n      books\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        render: () => /*#__PURE__*/_jsxDEV(SearchBooks, {\n          books: this.state.books,\n          onChangeShelf: this.changeState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/_jsxDEV(ListBooks, {\n          books: this.state.books,\n          shelves: this.state.shelves,\n          onChangeShelf: this.changeState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default HomeApp;","map":{"version":3,"names":["React","Route","BooksAPI","ListBooks","SearchBooks","HomeApp","Component","state","books","shelves","key","name","changeState","book","shelf","update","then","setState","concat","updatedBookState","map","c","id","filter","deleteBook","componentDidMount","getAll","render"],"sources":["C:/Users/Abdulrahman/Desktop/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import React from 'react'\r\nimport './App.css'\r\nimport { Route } from 'react-router-dom'\r\nimport * as BooksAPI from \"./BooksAPI\"\r\nimport ListBooks from \"./ListBooks\"\r\nimport SearchBooks from \"./SearchBooks\"\r\n\r\nclass HomeApp extends React.Component {\r\n  state = {\r\n    books : [],\r\n    shelves : [\r\n      {key:'currentlyReading' , name: 'Currently Reading'},\r\n      {key:'wantToRead' , name: 'Want to Read'},\r\n      {key:'read' , name: 'Read'},\r\n    ]\r\n  }\r\n\r\n  componentDidMount() {\r\n    BooksAPI.getAll().then((books) =>   this.setState({ books }) );\r\n  }\r\n\r\n  changeState = (book, shelf) => {\r\n    BooksAPI.update(book, shelf).then(books => {\r\n      if(book.shelf === 'none' && shelf !== 'none')\r\n        this.setState(state => {  return {books:  state.books.concat(book)}})\r\n      \r\n      const updatedBookState = this.state.books.map(c => {\r\n        if (c.id === book.id) { c.shelf = shelf }\r\n        return c;\r\n      });\r\n\r\n      this.setState({  books: updatedBookState,});\r\n              if(shelf === 'none')\r\n          this.setState(state=>{\r\n            return {books: state.books.filter(deleteBook => deleteBook.id !== book.id)}\r\n          })\r\n        \r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <Route path='/search'\r\n        render={() => (\r\n          <SearchBooks books={this.state.books}  \r\n          onChangeShelf={this.changeState} />\r\n        )}\r\n        />\r\n\r\n        <Route exact path='/'\r\n        render={() => (\r\n          <ListBooks books={this.state.books} shelves={this.state.shelves}\r\n           onChangeShelf={this.changeState} />\r\n        )}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default HomeApp\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAO,KAAKC,QAAZ,MAA0B,YAA1B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;;AAEA,MAAMC,OAAN,SAAsBL,KAAK,CAACM,SAA5B,CAAsC;EAAA;IAAA;IAAA,KACpCC,KADoC,GAC5B;MACNC,KAAK,EAAG,EADF;MAENC,OAAO,EAAG,CACR;QAACC,GAAG,EAAC,kBAAL;QAA0BC,IAAI,EAAE;MAAhC,CADQ,EAER;QAACD,GAAG,EAAC,YAAL;QAAoBC,IAAI,EAAE;MAA1B,CAFQ,EAGR;QAACD,GAAG,EAAC,MAAL;QAAcC,IAAI,EAAE;MAApB,CAHQ;IAFJ,CAD4B;;IAAA,KAcpCC,WAdoC,GActB,CAACC,IAAD,EAAOC,KAAP,KAAiB;MAC7BZ,QAAQ,CAACa,MAAT,CAAgBF,IAAhB,EAAsBC,KAAtB,EAA6BE,IAA7B,CAAkCR,KAAK,IAAI;QACzC,IAAGK,IAAI,CAACC,KAAL,KAAe,MAAf,IAAyBA,KAAK,KAAK,MAAtC,EACE,KAAKG,QAAL,CAAcV,KAAK,IAAI;UAAG,OAAO;YAACC,KAAK,EAAGD,KAAK,CAACC,KAAN,CAAYU,MAAZ,CAAmBL,IAAnB;UAAT,CAAP;QAA0C,CAApE;QAEF,MAAMM,gBAAgB,GAAG,KAAKZ,KAAL,CAAWC,KAAX,CAAiBY,GAAjB,CAAqBC,CAAC,IAAI;UACjD,IAAIA,CAAC,CAACC,EAAF,KAAST,IAAI,CAACS,EAAlB,EAAsB;YAAED,CAAC,CAACP,KAAF,GAAUA,KAAV;UAAiB;;UACzC,OAAOO,CAAP;QACD,CAHwB,CAAzB;QAKA,KAAKJ,QAAL,CAAc;UAAGT,KAAK,EAAEW;QAAV,CAAd;QACQ,IAAGL,KAAK,KAAK,MAAb,EACJ,KAAKG,QAAL,CAAcV,KAAK,IAAE;UACnB,OAAO;YAACC,KAAK,EAAED,KAAK,CAACC,KAAN,CAAYe,MAAZ,CAAmBC,UAAU,IAAIA,UAAU,CAACF,EAAX,KAAkBT,IAAI,CAACS,EAAxD;UAAR,CAAP;QACD,CAFD;MAIL,CAfD;IAgBD,CA/BmC;EAAA;;EAUpCG,iBAAiB,GAAG;IAClBvB,QAAQ,CAACwB,MAAT,GAAkBV,IAAlB,CAAwBR,KAAD,IAAa,KAAKS,QAAL,CAAc;MAAET;IAAF,CAAd,CAApC;EACD;;EAqBDmB,MAAM,GAAG;IAEP,oBACE;MAAK,SAAS,EAAC,KAAf;MAAA,wBACE,QAAC,KAAD;QAAO,IAAI,EAAC,SAAZ;QACA,MAAM,EAAE,mBACN,QAAC,WAAD;UAAa,KAAK,EAAE,KAAKpB,KAAL,CAAWC,KAA/B;UACA,aAAa,EAAE,KAAKI;QADpB;UAAA;UAAA;UAAA;QAAA;MAFF;QAAA;QAAA;QAAA;MAAA,QADF,eAQE,QAAC,KAAD;QAAO,KAAK,MAAZ;QAAa,IAAI,EAAC,GAAlB;QACA,MAAM,EAAE,mBACN,QAAC,SAAD;UAAW,KAAK,EAAE,KAAKL,KAAL,CAAWC,KAA7B;UAAoC,OAAO,EAAE,KAAKD,KAAL,CAAWE,OAAxD;UACC,aAAa,EAAE,KAAKG;QADrB;UAAA;UAAA;UAAA;QAAA;MAFF;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAiBD;;AApDmC;;AAwDtC,eAAeP,OAAf"},"metadata":{},"sourceType":"module"}